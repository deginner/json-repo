{
    "swagger": "2.0",
    "info": {
        "version": "3.0.1",
        "title": "Crypto Capital API",
        "description": "An API for cryptocapital.co using Swagger 2.0 and bitjws. Swagger is an API description tool, which allow Crypto Capital clients to be self-programming. Bitjws is an authentication tool using Bitcoin's message signing and JWS. For Python it is recommended to use Deginner's bravado-bitjws client. Javascript client coming soon.",
        "termsOfService": "http://cryptocapital.co/terms/",
        "contact": {
            "name": "Crypto Capital",
            "url": "https://cryptocapital.co"
        },
        "license": {
            "name": "Creative Commons 4.0 International",
            "url": "http://creativecommons.org/licenses/by/4.0/"
        }
    },
    "host": "0.0.0.0:8002",
    "basePath": "/",
    "schemes": [
        "http",
        "https"
    ],
    "consumes": [
        "application/jose"
    ],
    "produces": [
        "application/jose"
    ],
    "securityDefinitions": {
        "kid": {
            "type": "apiKey",
            "in": "query",
            "name": "kid",
            "description": "The JWS key"
        },
        "typ": {
            "type": "apiKey",
            "in": "query",
            "name": "typ",
            "description": "The message type"
        },
        "alg": {
            "type": "apiKey",
            "in": "query",
            "name": "alg",
            "description": "The signing algorithm to use i.e. \"CUSTOM-BITCOIN-SIGN\""
        }
    },
    "security": [
        {
            "kid": []
        },
        {
            "typ": []
        },
        {
            "alg": []
        }
    ],
    "paths": {
        "/account": {
            "post": {
                "description": "get a single Crypto Capital account by id.",
                "operationId": "getAccount",
                "produces": [
                    "application/jose"
                ],
                "parameters": [
                    {
                        "name": "account",
                        "in": "body",
                        "description": "The account id to get",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/RequestByID"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "account response",
                        "schema": {
                            "$ref": "#/definitions/Account"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                            "$ref": "#/definitions/errorModel"
                        }
                    }
                },
                "security": [
                    {
                        "kid": []
                    },
                    {
                        "typ": []
                    },
                    {
                        "alg": []
                    }
                ]
            }
        },
        "/verify_account": {
            "post": {
                "description": "Verify the existence and currency of an account. (requires permission)",
                "operationId": "verifyAccount",
                "produces": [
                    "application/jose"
                ],
                "parameters": [
                    {
                        "name": "AccountInfo",
                        "in": "body",
                        "description": "The account info to verify",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/AccountVerify"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "account info verified"
                    },
                    "default": {
                        "description": "Unable to verify account info",
                        "schema": {
                            "$ref": "#/definitions/errorModel"
                        }
                    }
                },
                "security": [
                    {
                        "kid": []
                    },
                    {
                        "typ": []
                    },
                    {
                        "alg": []
                    }
                ]
            }
        },
        "/statement": {
            "post": {
                "description": "Get a Crypto Capital account statement. A statement is a list of transactions. To get a single transaction, provide a transactionid.",
                "operationId": "getStatement",
                "produces": [
                    "application/jose"
                ],
                "parameters": [
                    {
                        "name": "statement_request",
                        "in": "body",
                        "description": "Statement request",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/StatementRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "get statement response",
                        "schema": {
                            "$ref": "#/definitions/Statement"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                            "$ref": "#/definitions/errorModel"
                        }
                    }
                },
                "security": [
                    {
                        "kid": []
                    },
                    {
                        "typ": []
                    },
                    {
                        "alg": []
                    }
                ]
            }
        }, "/transfer": {
            "post": {
                "description": "Request to make a new Crypto Capital transfer to the beneficiary specified. A positive response means that your transfer has been successfully submitted to the banking backend. It does not mean the transfer was approved.",
                "operationId": "makeTransfer",
                "produces": [
                    "application/jose"
                ],
                "parameters": [
                    {
                        "name": "transfer_request",
                        "in": "body",
                        "description": "The transfer request",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/TransferRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "make transfer response",
                        "schema": {
                            "$ref": "#/definitions/TransferResponse"
                        }
                    },
                    "default": {
                        "description": "unexpected error",
                        "schema": {
                            "$ref": "#/definitions/errorModel"
                        }
                    }
                },
                "security": [
                    {
                        "kid": []
                    },
                    {
                        "typ": []
                    },
                    {
                        "alg": []
                    }
                ]
            }
        }
    },
    "definitions": {
        "RequestByID": {
            "description": "A request to get a resource by integer id.",
            "type": "object",
            "required": [
                "id"
            ],
            "properties": {
                "id": {
                    "type": "integer",
                    "format": "int64"
                }
            },
            "title": "RequestByID"
        },
        "Account": {
          "description": "A single Crypto Capital account.", 
          "required": [
            "name", 
            "currency"
          ], 
          "type": "object", 
          "properties": {
            "id": {
              "type": "string", 
              "description": "primary key", 
              "maxLength": 255
            },
            "customerId": {
              "type": "string", 
              "maxLength": 255
            }, 
            "accountNumber": {
              "type": "string", 
              "maxLength": 255
            }, 
            "name": {
              "type": "string", 
              "maxLength": 255
            }, 
            "date": {
              "type": "string", 
              "maxLength": 255
            }, 
            "currency": {
              "type": "string", 
              "maxLength": 3
            }, 
            "balance": {
              "type": "string", 
              "maxLength": 255
            }, 
            "available": {
              "type": "string", 
              "maxLength": 255
            }
          }, 
          "title": "Account"
        }, "AccountVerify": {
          "description": "Verification info for a Crypto Capital account.", 
          "required": [
            "accountNumber", 
            "currency"
          ], 
          "type": "object", 
          "properties": {
            "accountNumber": {
              "type": "string", 
              "maxLength": 255
            }, 
            "currency": {
              "type": "string", 
              "maxLength": 3
            }
          }, 
          "title": "AccountVerify"
        }, "Statement": {
          "description": "A Crypto Capital account statement. A list of transactions.", 
          "title": "Statement", 
          "required": [
            "transactions",
            "statusCode"
          ],
          "type": "object", 
          "properties": {
            "id": {
              "type": "integer", 
              "description": "primary key"
            },
            "transactions": {
              "type": "array",
              "items": {
                  "$ref": "#/definitions/Transfer"
              }
            }, 
            "statusCode": {
              "type": "integer"
            }
          }
        }, "StatementRequest": {
          "description": "A request to get a Crypto Capital statement.", 
          "required": [
            "customerId",
            "accountNumber"
          ], 
          "type": "object", 
          "properties": {
            "id": {
              "type": "integer", 
              "description": "primary key"
            }, 
            "customerId": {
              "type": "string", 
              "maxLength": 255
            }, 
            "accountNumber": {
              "type": "string", 
              "maxLength": 255
            }, 
            "fromtime": {
              "type": "integer"
            }, 
            "totime": {
              "type": "integer"
            }, 
            "transactionid": {
              "type": "string", 
              "maxLength": 255
            }, 
            "limit": {
              "type": "integer"
            }
          }, 
          "title": "StatementRequest"
        }, "TransferRequest": {
          "description": "A request to send a Crypto Capital transfer. Reference is like a nonce; it should be a unique string.", 
          "required": [
            "customerId", 
            "accountNumber", 
            "beneficiary", 
            "currency", 
            "amount", 
            "narrative", 
            "reference"
          ], 
          "type": "object", 
          "properties": {
            "id": {
              "type": "integer", 
              "description": "primary key"
            }, 
            "customerId": {
              "type": "string", 
              "maxLength": 255
            }, 
            "accountNumber": {
              "type": "string", 
              "maxLength": 255
            }, 
            "beneficiary": {
              "type": "string", 
              "maxLength": 255
            }, 
            "currency": {
              "type": "string", 
              "maxLength": 3
            }, 
            "amount": {
              "type": "number"
            }, 
            "narrative": {
              "type": "string", 
              "maxLength": 64
            }, 
            "reference": {
              "type": "string", 
              "maxLength": 255
            }
          }, 
          "title": "TransferRequest"
        }, "TransferResponse": {
          "description": "A Crypto Capital account transfer response. Does not indicate success or failure of transfer itself, but whether request for the transfer was successfully made or not. A successCode == 0 and description == \"Success\" means the transfer request was made.", 
          "title": "TransferResponse", 
          "required": [
            "statusCode", 
            "description",
            "errorMessage"
          ],
          "type": "object", 
          "properties": {
            "statusCode": {
              "type": "integer"
            }, 
            "description": {
              "type": "string", 
              "maxLength": 255
            }, 
            "errorMessage": {
              "type": "string", 
              "maxLength": 255
            }
          }
        }, "Transfer": {
          "description": "A Crypto Capital account transfer. Your account could be either the beneficiary (recipient) or the customer (sender).",
          "title": "Transfer", 
          "required": [
            "customerId",
            "customerName", 
            "accountNumber",
            "beneficiaryId",
            "beneficiaryName",
            "currency",
            "amount",
            "status",
            "narrative",
            "date",
            "reference"
          ],
          "type": "object",
          "properties": {
             "transactionId": {
              "type": "string", 
              "maxLength": 16
            },
            "customerId": {
              "type": "string", 
              "maxLength": 16
            }, 
            "customerName": {
              "type": "string", 
              "maxLength": 255
            }, 
            "accountNumber": {
              "type": "string", 
              "maxLength": 255
            }, 
            "beneficiaryId": {
              "type": "string", 
              "maxLength": 16
            }, 
            "beneficiaryName": {
              "type": "string", 
              "maxLength": 255
            },
            "currency": {
              "type": "string", 
              "maxLength": 3
            }, 
            "amount": {
              "type": "number"
            }, 
            "status": {
              "type": "string", 
              "maxLength": 255
            }, 
            "narrative": {
              "type": "string", 
              "maxLength": 255
            }, 
            "date": {
              "type": "string", 
              "maxLength": 255
            }, 
            "reference": {
              "type": "string", 
              "maxLength": 255
            }
          }
         }, "errorModel": {
            "type": "object",
            "required": [
                "code",
                "message"
            ],
            "properties": {
                "code": {
                    "type": "integer",
                    "format": "int32"
                },
                "message": {
                    "type": "string"
                }
            }
        }
    }
}
